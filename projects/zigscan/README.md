# ZigScan Benchmark Project

## 项目概述

ZigScan是一个用Zig语言编写的高性能无状态端口扫描器，类似RustScan。

**项目仓库**: https://github.com/gnusec/zigscan

## 为什么选择这个项目作为Benchmark

### 技术挑战

1. **语言学习难度**
   - Zig 0.15.1+ API与旧版本差异大
   - 大多数AI的训练数据基于旧版本Zig
   - 需要AI能够学习和适应新API

2. **系统底层特性**
   - Linux TCP connect超时默认75秒
   - 需要理解并解决系统超时问题
   - 涉及非阻塞socket、epoll等底层编程

3. **并发和性能**
   - 要求高并发扫描
   - 需要合理的超时控制
   - 内存和资源管理

4. **上下文保持能力**
   - 需要多轮迭代调试
   - 测试AI是否能记住之前的问题和解决方案
   - 考验自我修复能力

## 验收标准

### 基本功能

- [x] 命令行参数解析（目标IP、端口范围、并发数）
- [x] TCP端口扫描
- [x] 并发控制
- [x] 超时处理
- [x] 结果输出（文本/JSON）

### 性能要求

- 扫描500端口，并发200，应在5秒内完成
- 不能出现75秒TCP超时问题

### 代码质量

- 能成功编译
- 无内存泄漏
- 基本的错误处理

## 测试环境

- **操作系统**: Linux (Parrot OS / Ubuntu)
- **Zig版本**: 0.15.1+
- **测试目标**: 本地或授权测试环境

## 参考文档

AI可以访问的参考资料：
- Zig官方文档
- Zig源码
- zigmanual

## 评分维度

| 维度 | 权重 | 说明 |
|------|------|------|
| 完成度 | 40% | 是否实现所有基本功能 |
| 时间效率 | 25% | 从开始到可用版本的时间 |
| 成本 | 20% | Token消耗 |
| 系统认知 | 15% | 是否自主发现并解决TCP超时等系统问题 |

## 当前结果

查看 [评测结果](../../results/ZIGSCAN_RESULTS.md)

### 最佳实践示例

**GPT-5 minimal** (Rank #2):
- ✅ 完成时间: 4.9分钟
- ✅ Token: 54,283
- ⚠️ 存在小bug但基本可用

**Sonnet 4.5 + Droid** (Rank #5):
- ✅ 完成时间: 24分钟
- ✅ 功能完全正常
- ✅ Token消耗合理（约773K factory tokens）

### 常见失败点

1. **API版本问题**: 使用旧版Zig API导致编译失败
2. **TCP超时**: 未意识到Linux默认75秒超时问题
3. **并发控制**: 实现错误导致性能不达标
4. **上下文丢失**: 重复犯同样的错误

## 如何贡献测试结果

1. 创建新目录: `zigscan/<ai-engine>-<client>/`
2. 完成开发测试
3. 记录finish.log（见下模板）
4. 提交代码和日志

### finish.log 模板

```
AI引擎: GPT-4 / Claude / ...
客户端: Cursor / VSCode / CLI / ...
开始时间: YYYY-MM-DD HH:MM
结束时间: YYYY-MM-DD HH:MM
总耗时: XX分钟

Tokens消耗: XXXXX

完成情况: [完成/部分完成/失败]

功能验收:
- [ ] 基本扫描
- [ ] 并发控制
- [ ] 超时处理
- [ ] 输出格式

主要挑战:
- 
- 

解决方案:
- 
- 

备注:
...
```
