<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-PK æµ‹è¯•ç»“æœå½•å…¥è¡¨å•</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Monaco', 'Consolas', monospace;
            background: linear-gradient(135deg, #0a0e27 0%, #1a1a2e 100%);
            color: #e0e0e0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(26, 26, 46, 0.95);
            border: 2px solid #00ff41;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 0 30px rgba(0, 255, 65, 0.3);
        }
        
        h1 {
            color: #00ff41;
            text-align: center;
            margin-bottom: 10px;
            text-shadow: 0 0 10px #00ff41;
        }
        
        .subtitle {
            text-align: center;
            color: #00f5ff;
            margin-bottom: 30px;
            font-size: 0.9em;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            color: #00f5ff;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 10px;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid #00ff41;
            border-radius: 5px;
            color: #e0e0e0;
            font-family: inherit;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #00f5ff;
            box-shadow: 0 0 10px rgba(0, 245, 255, 0.3);
        }
        
        .radio-group {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .radio-option {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .radio-option input[type="radio"] {
            width: auto;
        }
        
        textarea {
            min-height: 80px;
            resize: vertical;
        }
        
        .btn-group {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }
        
        button {
            flex: 1;
            padding: 12px 20px;
            font-size: 1em;
            font-weight: bold;
            border: 2px solid #00ff41;
            background: linear-gradient(135deg, rgba(0, 255, 65, 0.2), rgba(0, 245, 255, 0.2));
            color: #00ff41;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            font-family: inherit;
        }
        
        button:hover {
            background: rgba(0, 255, 65, 0.3);
            box-shadow: 0 0 20px rgba(0, 255, 65, 0.5);
            transform: translateY(-2px);
        }
        
        .output-area {
            margin-top: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid #00f5ff;
            border-radius: 5px;
            display: none;
        }
        
        .output-area h3 {
            color: #00f5ff;
            margin-bottom: 10px;
        }
        
        pre {
            background: #000;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            color: #00ff41;
            font-size: 0.9em;
        }
        
        .hint {
            font-size: 0.85em;
            color: #888;
            margin-top: 3px;
        }
        
        .required {
            color: #ff006e;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”¥ AI-PK æµ‹è¯•ç»“æœå½•å…¥</h1>
        <p class="subtitle">ZigScan Benchmark - Structured Result Entry Form</p>
        
        <form id="resultForm">
            <!-- æµ‹è¯•åŸºæœ¬ä¿¡æ¯ -->
            <div class="form-group">
                <label for="testDir">æµ‹è¯•ç›®å½•å <span class="required">*</span></label>
                <input type="text" id="testDir" name="testDir" required 
                       placeholder="ä¾‹å¦‚: gpt5-codex-low">
                <div class="hint">æ ¼å¼: å¼•æ“-å®¢æˆ·ç«¯-é…ç½® (å¦‚: gpt5-codex-low, sonnet4.5-dorid)</div>
            </div>
            
            <!-- å®ŒæˆçŠ¶æ€ -->
            <div class="form-group">
                <label>å®ŒæˆçŠ¶æ€ <span class="required">*</span></label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" id="statusSuccess" name="status" value="success" required>
                        <label for="statusSuccess" style="display: inline; margin: 0;">âœ… æˆåŠŸ (å®Œå…¨å¯ç”¨)</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="statusPartial" name="status" value="partial">
                        <label for="statusPartial" style="display: inline; margin: 0;">âš ï¸ éƒ¨åˆ†æˆåŠŸ (æœ‰bug)</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="statusFailed" name="status" value="failed">
                        <label for="statusFailed" style="display: inline; margin: 0;">âŒ å¤±è´¥ (æ— æ³•å®Œæˆ)</label>
                    </div>
                </div>
            </div>
            
            <!-- æ—¶é—´æ¶ˆè€— -->
            <div class="form-group">
                <label for="timeMinutes">å®Œæˆæ—¶é—´ (åˆ†é’Ÿ)</label>
                <input type="number" id="timeMinutes" name="timeMinutes" step="0.1" min="0" 
                       placeholder="ä¾‹å¦‚: 16.6">
                <div class="hint">ä»å¼€å§‹åˆ°æœ€ç»ˆå¯ç”¨ç‰ˆæœ¬çš„æ—¶é—´</div>
            </div>
            
            <!-- Tokenæ¶ˆè€— -->
            <div class="form-group">
                <label for="tokens">Tokenæ¶ˆè€—</label>
                <input type="number" id="tokens" name="tokens" step="1" min="0" 
                       placeholder="ä¾‹å¦‚: 227870">
                <div class="hint">æ€»tokenæ¶ˆè€—ï¼ˆåŒ…æ‹¬input/outputï¼‰</div>
            </div>
            
            <!-- è´¨é‡è¯„åˆ† -->
            <div class="form-group">
                <label for="qualityScore">è´¨é‡è¯„åˆ† (0-10) <span class="required">*</span></label>
                <input type="number" id="qualityScore" name="qualityScore" 
                       min="0" max="10" step="1" value="5" required>
                <div class="hint">0=å®Œå…¨å¤±è´¥, 5=éƒ¨åˆ†å¯ç”¨, 8=å®Œå…¨æˆåŠŸ, 10=å®Œç¾</div>
            </div>
            
            <!-- è¯„ä»·å¤‡æ³¨ -->
            <div class="form-group">
                <label for="notes">ç®€çŸ­å¤‡æ³¨</label>
                <input type="text" id="notes" name="notes" 
                       placeholder="ä¾‹å¦‚: å¤§éƒ¨åˆ†å¯ç”¨, å¹¶å‘æ§åˆ¶æ— æ•ˆ">
                <div class="hint">ä¸€å¥è¯æ¦‚æ‹¬ä¸»è¦é—®é¢˜æˆ–ç‰¹ç‚¹</div>
            </div>
            
            <!-- è¯¦ç»†è¯„ä»· -->
            <div class="form-group">
                <label for="comments">è¯¦ç»†è¯„ä»· (å¯é€‰)</label>
                <textarea id="comments" name="comments" 
                          placeholder="è®°å½•å…³é”®é—®é¢˜ã€è§£å†³æ–¹æ¡ˆã€ç‰¹æ®Šæƒ…å†µç­‰..."></textarea>
            </div>
            
            <!-- æŒ‰é’®ç»„ -->
            <div class="btn-group">
                <button type="submit">ç”Ÿæˆ JSON</button>
                <button type="button" onclick="generateShellFormat()">ç”Ÿæˆ Shell æ ¼å¼</button>
                <button type="reset" onclick="clearOutput()">æ¸…ç©ºè¡¨å•</button>
            </div>
        </form>
        
        <!-- è¾“å‡ºåŒºåŸŸ -->
        <div class="output-area" id="outputArea">
            <h3>ç”Ÿæˆçš„ç»“æœï¼š</h3>
            <pre id="outputContent"></pre>
            <button type="button" onclick="copyToClipboard()">å¤åˆ¶åˆ°å‰ªè´´æ¿</button>
        </div>
    </div>
    
    <script>
        const form = document.getElementById('resultForm');
        const outputArea = document.getElementById('outputArea');
        const outputContent = document.getElementById('outputContent');
        
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            generateJSON();
        });
        
        function parseDirectoryName(dirname) {
            const parts = dirname.split('-');
            let engine = 'Unknown';
            let client = 'Default';
            
            if (parts.length > 0) {
                const first = parts[0].toLowerCase();
                if (first.includes('gpt5') || first.includes('gpt4')) {
                    engine = first.includes('gpt5') ? 'GPT-5' : 'GPT-4';
                } else if (first.includes('sonnet')) {
                    engine = 'Claude Sonnet';
                } else if (first.includes('opus')) {
                    engine = 'Claude Opus';
                } else if (first.includes('glm')) {
                    engine = 'GLM-4';
                } else if (first.includes('qwen')) {
                    engine = 'Qwen';
                } else if (first.includes('grok')) {
                    engine = 'Grok';
                } else if (first.includes('supernova')) {
                    engine = 'Supernova';
                } else if (first.includes('kat')) {
                    engine = 'Kat';
                } else if (first.includes('claude')) {
                    engine = 'Claude';
                } else {
                    engine = parts[0].charAt(0).toUpperCase() + parts[0].slice(1);
                }
                
                if (parts.length > 1) {
                    client = parts.slice(1).map(p => 
                        p.charAt(0).toUpperCase() + p.slice(1)
                    ).join('-');
                }
            }
            
            return { engine, client };
        }
        
        function getStatusText(status) {
            switch(status) {
                case 'success': return 'âœ… SUCCESS';
                case 'partial': return 'âš ï¸ PARTIAL';
                case 'failed': return 'âŒ FAILED';
                default: return 'â“ UNCLEAR';
            }
        }
        
        function generateJSON() {
            const formData = new FormData(form);
            const dirname = formData.get('testDir');
            const { engine, client } = parseDirectoryName(dirname);
            
            const result = {
                test_dir: dirname,
                engine: engine,
                client: client,
                completed: getStatusText(formData.get('status')),
                time_minutes: formData.get('timeMinutes') ? parseFloat(formData.get('timeMinutes')) : null,
                tokens: formData.get('tokens') ? parseInt(formData.get('tokens')) : null,
                notes: formData.get('notes') || "",
                user_comments: formData.get('comments') ? 
                    formData.get('comments').split('\n').filter(c => c.trim()) : [],
                quality_score: parseInt(formData.get('qualityScore'))
            };
            
            outputContent.textContent = JSON.stringify(result, null, 2);
            outputArea.style.display = 'block';
        }
        
        function generateShellFormat() {
            const formData = new FormData(form);
            const dirname = formData.get('testDir');
            const status = getStatusText(formData.get('status'));
            const time = formData.get('timeMinutes') || 'N/A';
            const tokens = formData.get('tokens') || 'N/A';
            const notes = formData.get('notes') || '';
            const comments = formData.get('comments') || '';
            
            let shellContent = `# ===== ${dirname} =====\n`;
            shellContent += `çŠ¶æ€: ${status}\n`;
            shellContent += `æ—¶é—´: ${time} åˆ†é’Ÿ\n`;
            shellContent += `Tokens: ${tokens}\n`;
            shellContent += `è´¨é‡: ${formData.get('qualityScore')}/10\n`;
            if (notes) shellContent += `å¤‡æ³¨: ${notes}\n`;
            if (comments) {
                shellContent += `\nè¯¦ç»†è¯„ä»·:\n${comments}\n`;
            }
            shellContent += `\n# finish.log å†…å®¹å»ºè®®:\n`;
            shellContent += `cat > benchmarks/zigscan/${dirname}/finish.log << 'EOF'\n`;
            if (time !== 'N/A') shellContent += `ç”¨æ—¶: ${time}åˆ†é’Ÿ\n`;
            if (tokens !== 'N/A') shellContent += `Tokens: ${tokens}\n`;
            shellContent += `\n${status === 'âœ… SUCCESS' ? 'ä»»åŠ¡å®Œæˆï¼ŒåŠŸèƒ½æ­£å¸¸' : notes}\n`;
            if (comments) shellContent += `\n${comments}\n`;
            shellContent += `EOF\n`;
            
            outputContent.textContent = shellContent;
            outputArea.style.display = 'block';
        }
        
        function clearOutput() {
            outputArea.style.display = 'none';
            outputContent.textContent = '';
        }
        
        function copyToClipboard() {
            navigator.clipboard.writeText(outputContent.textContent).then(() => {
                alert('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
            });
        }
    </script>
</body>
</html>
